<h1>Reports</h1>

<mat-tab-group>
  <mat-tab label="Report List">
    <div class="report-list">
      <form>
        <ul>
          <h2>REPORT LIST</h2>
          <button class="btn-show-all-reports" (click)="getReports()">Show All Reports in Database</button>
          <li *ngFor="let report of reports" class="reports">
            <span>{{ report.name }}</span>
            <button class="btn-show-details" (click)="showDetails(report)">Show Details</button>
            <button class="btn-delete" (click)="deleteReport(report.id)">Delete</button>
            <button class="btn-update" (click)="showUpdateForm(report)">Update</button>
          </li>
        </ul>
        <div class="selected-report-details" *ngIf="SelectedReport">
          <h2>Report Details</h2>
          <p><strong>Report ID:</strong> {{ SelectedReport.id }}</p>
          <p><strong>Name:</strong> {{ SelectedReport.name }}</p>
          <p><strong>Country:</strong> {{ SelectedReport.country }}</p>
          <p><strong>City:</strong> {{ SelectedReport.city }}</p>
          <p><strong>Hub:</strong> {{ SelectedReport.hub }}</p>
          <p><strong>Status:</strong> {{ SelectedReport.status }}</p>
          <p><strong>Date:</strong> {{ SelectedReport.date }}</p>
        </div>
      </form>
    </div>

    <div class="update-form" *ngIf="showUpdate">
      <h2>Update Report</h2>
      <form class="update-report-form" (submit)="updateReport(selectedReportForUpdate)" #updateForm="ngForm">
        <label for="updateReportName">Name:</label>
        <input type="text" id="updateReportName" name="updateReportName" [(ngModel)]="selectedReportForUpdate.name" required>
        <label for="updateReportCountry">Country:</label>
        <input type="text" id="updateReportCountry" name="updateReportCountry" [(ngModel)]="selectedReportForUpdate.country" required>
        <label for="updateReportCity">City:</label>
        <input type="text" id="updateReportCity" name="updateReportCity" [(ngModel)]="selectedReportForUpdate.city" required>
        <label for="updateReportHub">Hub:</label>
        <input type="text" id="updateReportHub" name="updateReportHub" [(ngModel)]="selectedReportForUpdate.hub" required>
        <label for="updateReportStatus">Status:</label>
        <input type="text" id="updateReportStatus" name="updateReportStatus" [(ngModel)]="selectedReportForUpdate.status" required>
        <label for="updateReportDate">Date:</label>
        <input type="text" id="updateReportDate" name="updateReportDate" [(ngModel)]="selectedReportForUpdate.date" required>
        <button type="submit">Update Report</button>
      </form>
    </div>
  </mat-tab>

  <mat-tab label="Find Report">
    <div class="find-report-form">
      <div>
        <h2>FIND REPORT</h2>
        <label for="searchReportId">Report ID:</label>
        <input type="text" id="searchReportId" name="searchReportId" [(ngModel)]="reportId" required placeholder="Enter Report ID">
        <button (click)="getReportById(reportId)">Get Report by ID</button>
      </div>

      <div *ngIf="selectedReportForGetReports">
        <h2>Report Details</h2>
        <p><strong>Report ID:</strong> {{ selectedReportForGetReports.id }}</p>
        <p><strong>Name:</strong> {{ selectedReportForGetReports.name }}</p>
        <p><strong>Country:</strong> {{ selectedReportForGetReports.country }}</p>
        <p><strong>City:</strong> {{ selectedReportForGetReports.city }}</p>
        <p><strong>Hub:</strong> {{ selectedReportForGetReports.hub }}</p>
        <p><strong>Status:</strong> {{ selectedReportForGetReports.status }}</p>
        <p><strong>Date:</strong> {{ selectedReportForGetReports.date }}</p>
      </div>

      <div *ngIf="selectedReportForGetReports === null && reportId">
        <p>No report found for the provided ID.</p>
      </div>
    </div>
  </mat-tab>

  <mat-tab label="Add Report">
    <div class="add-report-form">
      <h2>Add Report</h2>
      <form (ngSubmit)="addReport()" #reportForm="ngForm">
        <label for="reportName">Name:</label>
        <input type="text" id="reportName" name="reportName" [(ngModel)]="newReport.name" required>
        <label for="reportCountry">Country:</label>
        <input type="text" id="reportCountry" name="reportCountry" [(ngModel)]="newReport.country" required>
        <label for="reportCity">City:</label>
        <input type="text" id="reportCity" name="reportCity" [(ngModel)]="newReport.city" required>
        <label for="reportHub">Hub:</label>
        <input type="text" id="reportHub" name="reportHub" [(ngModel)]="newReport.hub" required>
        <label for="reportStatus">Status:</label>
        <input type="text" id="reportStatus" name="reportStatus" [(ngModel)]="newReport.status" required>
        <label for="reportDate">Date:</label>
        <input type="text" id="reportDate" name="reportDate" [(ngModel)]="newReport.date" required>
        <button type="submit">Add Report</button>
      </form>
      <div *ngIf="isReportAdded">
        <p>Report "{{ newReport.name }}" has been added.</p>
      </div>
    </div>
  </mat-tab>

</mat-tab-group>
